!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.panorama=n()}}(function(){var n;return function e(n,t,i){function r(u,f){if(!t[u]){if(!n[u]){var a="function"==typeof require&&require;if(!f&&a)return a(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[u]={exports:{}};n[u][0].call(d.exports,function(e){var t=n[u][1][e];return r(t?t:e)},d,d.exports,e,n,t,i)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(n,e,t){function i(){d=!1,f.length?c=f.concat(c):s=-1,c.length&&r()}function r(){if(!d){var n=setTimeout(i);d=!0;for(var e=c.length;e;){for(f=c,c=[];++s<e;)f&&f[s].run();s=-1,e=c.length}f=null,d=!1,clearTimeout(n)}}function o(n,e){this.fun=n,this.array=e}function u(){}var f,a=e.exports={},c=[],d=!1,s=-1;a.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];c.push(new o(n,e)),1!==c.length||d||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=u,a.addListener=u,a.once=u,a.off=u,a.removeListener=u,a.removeAllListeners=u,a.emit=u,a.binding=function(n){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(n){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],2:[function(e,t,i){(function(r){!function(e){if("object"==typeof i&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof n&&n.amd)n([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,o.imagine=e()}}(function(){return function n(t,i,r){function o(f,a){if(!i[f]){if(!t[f]){var c="function"==typeof e&&e;if(!a&&c)return c(f,!0);if(u)return u(f,!0);var d=new Error("Cannot find module '"+f+"'");throw d.code="MODULE_NOT_FOUND",d}var s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var e=t[f][1][n];return o(e?e:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var u="function"==typeof e&&e,f=0;f<r.length;f++)o(r[f]);return o}({1:[function(n,e,t){function i(){d=!1,f.length?c=f.concat(c):s=-1,c.length&&r()}function r(){if(!d){var n=setTimeout(i);d=!0;for(var e=c.length;e;){for(f=c,c=[];++s<e;)f&&f[s].run();s=-1,e=c.length}f=null,d=!1,clearTimeout(n)}}function o(n,e){this.fun=n,this.array=e}function u(){}var f,a=e.exports={},c=[],d=!1,s=-1;a.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];c.push(new o(n,e)),1!==c.length||d||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=u,a.addListener=u,a.once=u,a.off=u,a.removeListener=u,a.removeAllListeners=u,a.emit=u,a.binding=function(n){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(n){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],2:[function(n,e,t){(function(n){!function(e){function t(n){return"function"==typeof n}function i(n){return"object"==typeof n}function r(e){"undefined"!=typeof setImmediate?setImmediate(e):"undefined"!=typeof n&&n.nextTick?n.nextTick(e):setTimeout(e,0)}var o;e[0][e[1]]=function u(n){var e,f=[],a=[],c=function(n,t){return null==e&&null!=n&&(e=n,f=t,a.length&&r(function(){for(var n=0;n<a.length;n++)a[n]()})),e};return c.then=function(c,d){var s=u(n),h=function(){function n(e){var r,u=0;try{if(e&&(i(e)||t(e))&&t(r=e.then)){if(e===s)throw new TypeError;r.call(e,function(){u++||n.apply(o,arguments)},function(n){u++||s(!1,[n])})}else s(!0,arguments)}catch(f){u++||s(!1,[f])}}try{var r=e?c:d;t(r)?n(r.apply(o,f||[])):s(e,f)}catch(u){s(!1,[u])}};return null!=e?r(h):a.push(h),s},n&&(c=n(c)),c}}("undefined"==typeof e?[window,"pinkySwear"]:[e,"exports"])}).call(this,n("_process"))},{_process:1}],imagine:[function(n,e,t){e.exports=function(e){var t,i=n("pinkyswear")(function(n){return n["catch"]=function(e){return n.then(null,e)},n}),r=function(n){for(var t=[],i=0,r=e.length;r>i;++i)e[i].imagine==n&&t.push(e[i]);return t},o=function(){for(var n=0,t=e.length;t>n;++n)if(!("imagine"in e[n]))return!0;return!1},u=function(n){"undefined"==typeof n.imagine&&(n.imagine="loaded"),o()||(r("failed").length?i(!1,[r("failed")]):i(!0,[r("loaded")]))},f=function(n){return function(e){n.imagine="failed",o()||i(!1,[r("failed")])}},a=function(n,e){var t=setInterval(function(){n.complete&&n.width&&(clearInterval(t),u(e))},100)};"object"==typeof e&&"length"in e||(e=[e]);var c,d,s;for(c=0,d=e.length;d>c;++c)"string"==typeof e[c]&&(s=e[c],e[c]=document.createElement("img"),e[c].src=s);for(c=0,d=e.length;d>c;++c)t=new Image,t.onerror=f(e[c]),t.src=e[c].src,a(t,e[c]);return i}},{pinkyswear:2}]},{},[2])("imagine")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(n,e,t){(function(n){!function(e){function t(n){return"function"==typeof n}function i(n){return"object"==typeof n}function r(e){"undefined"!=typeof setImmediate?setImmediate(e):"undefined"!=typeof n&&n.nextTick?n.nextTick(e):setTimeout(e,0)}var o;e[0][e[1]]=function u(n){var e,f=[],a=[],c=function(n,t){return null==e&&null!=n&&(e=n,f=t,a.length&&r(function(){for(var n=0;n<a.length;n++)a[n]()})),e};return c.then=function(c,d){var s=u(n),h=function(){function n(e){var r,u=0;try{if(e&&(i(e)||t(e))&&t(r=e.then)){if(e===s)throw new TypeError;r.call(e,function(){u++||n.apply(o,arguments)},function(n){u++||s(!1,[n])})}else s(!0,arguments)}catch(f){u++||s(!1,[f])}}try{var r=e?c:d;t(r)?n(r.apply(o,f||[])):s(e,f)}catch(u){s(!1,[u])}};return null!=e?r(h):a.push(h),s},n&&(c=n(c)),c}}("undefined"==typeof e?[window,"pinkySwear"]:[e,"exports"])}).call(this,n("_process"))},{_process:1}],4:[function(n,e,t){e.exports=function(e){var t,i=n("pinkyswear")(function(n){return n["catch"]=function(e){return n.then(null,e)},n}),r=function(n){for(var t=[],i=0,r=e.length;r>i;++i)e[i].imagine==n&&t.push(e[i]);return t},o=function(){for(var n=0,t=e.length;t>n;++n)if(!("imagine"in e[n]))return!0;return!1},u=function(n){"undefined"==typeof n.imagine&&(n.imagine="loaded"),o()||(r("failed").length?i(!1,[r("failed")]):i(!0,[r("loaded")]))},f=function(n){return function(e){n.imagine="failed",o()||i(!1,[r("failed")])}},a=function(n,e){var t=setInterval(function(){n.complete&&n.width&&(clearInterval(t),u(e))},100)};"object"==typeof e&&"length"in e||(e=[e]);var c,d,s;for(c=0,d=e.length;d>c;++c)"string"==typeof e[c]&&(s=e[c],e[c]=document.createElement("img"),e[c].src=s);for(c=0,d=e.length;d>c;++c)t=new Image,t.onerror=f(e[c]),t.src=e[c].src,a(t,e[c]);return i}},{pinkyswear:3}],5:[function(e,t,i){!function(e,r){"function"==typeof n&&n.amd?n([],r):"object"==typeof i?t.exports=r():e.W=r()}(this,function(){function n(){var n;if("orientation"in window){var e=window.orientation;n=90==e||-90==e}else n=window.innerWidth>window.innerHeight;return n?"landscape":"portrait"}function e(e){var t=screen.width,i=screen.height;if("landscape"==n()&&i>t&&(t=screen.height,i=screen.width),e)return{width:t,height:i};var r=window.innerWidth,o=window.innerHeight;return(!r||!o||r>t||o>i||980==r)&&(r=window.outerWidth,o=window.outerHeight),(!r||!o||r>t||o>i)&&(r=screen.availWidth,o=screen.availHeight),{width:r,height:o}}var t=[],i=!1;window.addEventListener?"onorientationchange"in window?window.addEventListener("orientationchange",function(){i=!0},!1):window.addEventListener("resize",function(){i=!0},!1):window.attachEvent("onresize",function(){i=!0}),setInterval(function(){if(i&&document.documentElement.clientWidth){i=!1;for(var n=0,e=t.length;e>n;++n)t[n].func()}},10);var r={getViewportDimensions:function(n){return e(n)},getViewportWidth:function(n){return e(n).width},getViewportHeight:function(n){return e(n).height},getOrientation:function(){return n()},addListener:function(n,e){return t.push({func:n,key:e}),n},removeListener:function(n){for(var e=0,i=t.length;i>e;++e)if(t[e].key==n){t.splice(e,1);break}},clearListeners:function(){t=[]},trigger:function(n){for(var e=0,i=t.length;i>e;++e)("undefined"==typeof n||t[e].key==n)&&t[e].func()}};return r})},{}],6:[function(e,t,i){!function(e,r){"function"==typeof n&&n.amd?n([],r):"object"==typeof i?t.exports=r():e.W=r()}(this,function(){function n(){var n;if("orientation"in window){var e=window.orientation;n=90==e||-90==e}else n=window.innerWidth>window.innerHeight;return n?"landscape":"portrait"}function e(e){var t=screen.width,i=screen.height;if("landscape"==n()&&i>t&&(t=screen.height,i=screen.width),e)return{width:t,height:i};var r=window.innerWidth,o=window.innerHeight;return(!r||!o||r>t||o>i||980==r)&&(r=window.outerWidth,o=window.outerHeight),(!r||!o||r>t||o>i)&&(r=screen.availWidth,o=screen.availHeight),{width:r,height:o}}var t=[],i=!1;window.addEventListener?"onorientationchange"in window?window.addEventListener("orientationchange",function(){i=!0},!1):window.addEventListener("resize",function(){i=!0},!1):window.attachEvent("onresize",function(){i=!0}),setInterval(function(){if(i&&document.documentElement.clientWidth){i=!1;for(var n=0,e=t.length;e>n;++n)t[n].func()}},10);var r={getViewportDimensions:function(n){return e(n)},getViewportWidth:function(n){return e(n).width},getViewportHeight:function(n){return e(n).height},getOrientation:function(){return n()},addListener:function(n,e){return t.push({func:n,key:e}),n},removeListener:function(n){for(var e=0,i=t.length;i>e;++e)if(t[e].key==n){t.splice(e,1);break}},clearListeners:function(){t=[]},trigger:function(n){for(var e=0,i=t.length;i>e;++e)("undefined"==typeof n||t[e].key==n)&&t[e].func()}};return r})},{}],panorama:[function(n,e,t){e.exports=function(e,t,i){var r,o,u=document.createElement("canvas"),f=n("pyrsmk-w"),a=n("pyrsmk-imagine");return i=i||{},i.size="size"in i?i.size:"cover",i.attachment="attachment"in i?i.attachment:"scroll",i.left="left"in i?i.left:"center",i.top="top"in i?i.top:"center","string"==typeof t&&(t={0:t}),f.addListener(function(){var n,c,d=f.getViewportWidth(),s=0;for(c in t)d>=c&&(s=c);if(n=t[s],u.getContext&&(r=u.getContext("2d")))return u.style.position="scroll"==i.attachment?"absolute":"fixed",u.style.zIndex=-1,u.style.top=0,u.style.left=0,e.appendChild(u),a(n).then(function(n){var t=n[0];return t.redraw=function(){var n,o,f,a;switch(u.width=e.offsetWidth,u.height=e.offsetHeight,i.size){case"cover":t.width/u.width>t.height/u.height?(f=Math.round(u.height/t.height*t.width),a=u.height):(a=Math.round(u.width/t.width*t.height),f=u.width);break;case"contain":t.width/u.width>t.height/u.height?(a=Math.round(u.width/t.width*t.height),f=u.width):(f=Math.round(u.height/t.height*t.width),a=u.height);break;default:throw new Error("'"+i.size+"' size option is not supported")}n="center"===i.left?(u.width-f)/2:i.left,o="center"===i.top?(u.height-a)/2:i.top,r.drawImage(t,n,o,f,a)},t.redraw(),t}).then(function(n){o&&o(n)});var h=i.left+("string"!=typeof i.left?"px":""),l=i.top+("string"!=typeof i.top?"px":"");e.style.backgroundImage="url("+n+")",e.style.backgroundSize=i.size,e.style.backgroundPosition=h+" "+l,e.style.backgroundRepeat="no-repeat",e.style.backgroundAttachment=i.attachment})(),{then:function(n){o=n}}}},{"pyrsmk-imagine":4,"pyrsmk-w":5}]},{},[2,6])("panorama")});